<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>EmberInitializersDemo</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

  </head>
  <body>
    <script type="module">
      import Application from '#app/app.ts';
      import environment from '#app/config.ts';

      let app = Application.create({
        ...environment.APP,
        autoboot: false,
      });

      // anything running here with access to `app`
      // is equivelent to classic "initializers"
      //
      // These can be awaited, which was not possible before
      console.log(app);

      await app.boot();
      let instance = await app.buildInstance();
      await instance.boot();
      await instance.visit('/');

      // anything running here with access to `instance`
      // is equivelent to classic "instance initializers"
      //
      // These can be awaited, which was not possible before
      console.log(instance);
    </script>
  </body>
</html>
